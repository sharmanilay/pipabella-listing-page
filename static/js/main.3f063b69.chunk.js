(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{116:function(e,t,a){e.exports=a.p+"static/media/download.b054d328.svg"},5412:function(e,t,a){e.exports=a(5540)},5417:function(e,t,a){},5418:function(e,t,a){},5540:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(16),o=a.n(c),l=(a(5417),a(17)),i=a(18),u=a(20),s=a(19),m=a(21),p=(a(5418),a(116)),d=a.n(p),h=a(2),f=a(33),g=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(h.a,{className:"header mb10",position:"sticky",color:"default"},r.a.createElement(h.l,null,r.a.createElement(h.g,{container:!0,justify:"center"},r.a.createElement(h.g,{item:!0,xs:3},r.a.createElement("a",{className:"nav-link",href:"https://www.pipabella.com/spin-the-wheel-2019"},"Spin the wheel")),r.a.createElement(h.g,{item:!0,xs:6},r.a.createElement("a",{className:"",href:"https://www.pipabella.com/"},r.a.createElement("img",{src:d.a,className:"App-logo",alt:"logo"}))),r.a.createElement(h.g,{item:!0,xs:3},r.a.createElement(h.j,null,r.a.createElement("div",{className:"float-right"},r.a.createElement(h.h,{color:"inherit"},r.a.createElement(f.b,null)),r.a.createElement(h.h,{color:"inherit"},r.a.createElement(f.d,null)),r.a.createElement(h.h,{color:"inherit"},r.a.createElement(f.a,null)),r.a.createElement(h.h,{color:"inherit"},r.a.createElement(f.c,null))))))))}}]),t}(n.Component),E=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(s.a)(t).call(this,e))).onImgHover=function(){a.setState({onHover:!0})},a.onImgHoverOff=function(){a.setState({onHover:!1})},a.state={onHover:!1},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.state.onHover,t=this.props,a=t.img1,n=t.img2,c=t.price,o=t.name,l=e?n:a;return r.a.createElement(h.g,{item:!0,xs:4},r.a.createElement(h.j,{className:"item-block"},r.a.createElement("div",{className:"item-container"},r.a.createElement("img",{className:"item-img",onMouseEnter:this.onImgHover,onMouseLeave:this.onImgHoverOff,src:l,alt:o}),r.a.createElement("div",{className:"pb20"},r.a.createElement("span",{className:"item-price mb10"},"\u20b9",c),r.a.createElement("span",null,r.a.createElement("a",{className:"item-link",href:"#".concat(o)},o))))))}}]),t}(n.Component),b=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(s.a)(t).call(this,e))).getListString=function(e){var t=e.reduce(function(e,t,a){return e+","+t});return console.log(t),t},a.createQueryParam=function(){var e=a.state,t=e.price,n=e.productSubtype,r=e.productType,c=e.productOccasion,o=a.props.appendQueryParam,l="";r.length>0&&(l+="product_type:",l+=a.getListString(r)),n.length>0&&(l+="product_subtype:",l+=a.getListString(n)),c.length>0&&(l+="product_occasion:",l+=a.getListString(c)),t.length>0&&(l+="price:",l+=a.getListString(t)),o(l)},a.handleChange=function(e){return function(t){var n=a.state,r=n.productType,c=n.productSubtype,o=n.price,l=n.productOccasion;switch(e){case"product_type:":t.target.checked?(r.push(t.target.value),a.setState({productType:r},function(){return a.createQueryParam()})):a.setState({productType:r.filter(function(e){return e!==t.target.value})},function(){return a.createQueryParam()});break;case"product_subtype:":t.target.checked?(c.push(t.target.value),a.setState({productSubtype:c},function(){return a.createQueryParam()})):a.setState({productSubtype:c.filter(function(e){return e!==t.target.value})},function(){return a.createQueryParam()});break;case"product_occasion:":t.target.checked?(l.push(t.target.value),a.setState({productOccasion:l},function(){return a.createQueryParam()})):a.setState({productOccasion:l.filter(function(e){return e!==t.target.value})},function(){return a.createQueryParam()});break;case"price:":t.target.checked?(o.push(t.target.value),a.setState({productType:r},function(){return a.createQueryParam()})):a.setState({price:o.filter(function(e){return e!==t.target.value})},function(){return a.createQueryParam()})}}},a.getProductTypeFilters=function(){return a.props.filters.product_type.map(function(e){return r.a.createElement(h.d,{key:e.name,control:r.a.createElement(h.b,{id:e.name,checked:e.enabled,onChange:a.handleChange("product_type:"),value:e.name}),label:e.name})})},a.getProductSubtypeFilters=function(){return a.props.filters.product_subtype.map(function(e){return r.a.createElement(h.d,{key:e.name,control:r.a.createElement(h.b,{checked:e.enabled,onChange:a.handleChange("product_subtype:"),value:e.name}),label:e.name})})},a.getProductOccasionFilters=function(){return a.props.filters.product_occasion.map(function(e){return r.a.createElement(h.d,{key:e.name,control:r.a.createElement(h.b,{checked:e.enabled,onChange:a.handleChange("product_occasion:"),value:e.name}),label:e.name})})},a.getPriceFilters=function(){return a.props.filters.price.map(function(e){return r.a.createElement(h.d,{key:e.name,control:r.a.createElement(h.b,{checked:e.enabled,onChange:a.handleChange("price:"),value:e.name}),label:e.name})})},a.state={productType:[],productSubtype:[],price:[],productOccasion:[]},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.filters,t=e.price,a=e.product_subtype,n=e.product_type,c=e.product_occasion;return r.a.createElement(h.g,{item:!0,xs:12},r.a.createElement(h.c,{className:"sort-form"},n?r.a.createElement(h.e,null,r.a.createElement(h.f,{component:"legend"},"Product Type"),this.getProductTypeFilters()):null,a?r.a.createElement(h.e,null,r.a.createElement(h.f,{component:"legend"},"Product SubType"),this.getProductSubtypeFilters()):null,c?r.a.createElement(h.e,null,r.a.createElement(h.f,{component:"legend"},"Product Ocassion"),this.getProductOccasionFilters()):null,t?r.a.createElement(h.e,null,r.a.createElement(h.f,{component:"legend"},"Price"),this.getPriceFilters()):null))}}]),t}(n.Component),y=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(s.a)(t).call(this,e))).fetchData=function(){var e=a.state,t=e.baseUrl,n=e.endUrl,r=e.queryParams,c=e.sortValue,o="&sort_type=".concat(c),l="".concat(t).concat(o).concat(r).concat(n);fetch(l).then(function(e){return e.json()}).then(function(e){return a.setState({rawData:e,isLoading:!1})})},a.showData=function(){return a.state.rawData.results.data.map(function(e){return r.a.createElement(E,{key:e.entity_id,img1:e.image1,img2:e.image2,name:e.name,price:e.final_price})})},a.handleSortChange=function(e){a.setState({sortValue:e.target.value},function(){a.fetchData()})},a.appendQueryParam=function(e){var t=a.state.queryPrefix,n="".concat(t).concat(e);console.log(n),a.setState({queryParams:n},function(){a.fetchData()})},a.getSortOptions=function(){var e=a.state,t=e.rawData,n=e.sortValue,c=t.finalSort.map(function(e){return r.a.createElement(h.i,{value:e.name,key:e.name}," ",e.name)});return r.a.createElement("form",null,r.a.createElement("span",{className:"float-left sort-text"},"Sort By:"),r.a.createElement(h.c,{className:"sort-form"},r.a.createElement(h.k,{onChange:a.handleSortChange,value:n},c)))},a.getFilters=function(){var e=a.state.rawData.facets[0];return r.a.createElement(b,{filters:e,appendQueryParam:a.appendQueryParam})},a.state={rawData:{},baseUrl:"https://optimus.pipabella.com/v1/search/67?page=1",endUrl:"&rows=60",isLoading:!0,sortValue:"New Arrivals",queryPrefix:"&f=",queryParams:""},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.fetchData()}},{key:"render",value:function(){var e=this.state.isLoading;return r.a.createElement(h.g,{container:!0,justify:"center"},r.a.createElement(h.g,{container:!0,className:"mb10 item-header",item:!0,xs:10,spacing:8},r.a.createElement(h.g,{item:!0,xs:2},r.a.createElement(h.j,null,"Filters")),r.a.createElement(h.g,{item:!0,xs:7},r.a.createElement(h.j,null,"What's New")),r.a.createElement(h.g,{item:!0,xs:3},r.a.createElement(h.j,null,e?null:this.getSortOptions()))),r.a.createElement(h.g,{container:!0,item:!0,xs:10,spacing:8},r.a.createElement(h.g,{item:!0,xs:2},e?null:this.getFilters()),r.a.createElement(h.g,{item:!0,xs:10},r.a.createElement(h.g,{container:!0,spacing:8},e?null:this.showData()))))}}]),t}(n.Component),v=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(g,null),r.a.createElement(y,null))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(v,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[5412,1,2]]]);
//# sourceMappingURL=main.3f063b69.chunk.js.map